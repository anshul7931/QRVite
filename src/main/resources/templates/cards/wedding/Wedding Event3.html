<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title th:text="${coupleName} + ' Wedding Invitation'"></title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&display=swap" rel="stylesheet">
<style>
    body {
	    font-family: 'Cormorant Garamond', serif;
	    background: linear-gradient(to bottom, #fdf8f3, #f7f1ea);
	    display: flex;
	    justify-content: center;
	    align-items: center;
	    min-height: 100vh;
	    padding: 20px;
	    margin: 0;
	    box-sizing: border-box;
	}
	
	.card {
	    background-color: #fffdf9;
	    color: #3b3029;
	    border-radius: 24px;
	    padding: 32px 24px;
	    width: 100%;
	    max-width: 380px;
	    text-align: center;
	    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
	    display: flex;
	    flex-direction: column;
	    align-items: center;
	}
	
	h1 {
	    font-size: 34px;
	    margin: 12px 0 8px 0;
	    line-height: 1.3;
	}
	
	h2 {
	    font-size: 16px;
	    font-weight: normal;
	    letter-spacing: 2px;
	    margin: 10px 0 6px 0;
	}
	
	p {
	    margin: 6px 0;
	    font-size: 15px;
	}
	
	.hashtag {
	    font-size: 22px; /* Slightly increased */
	    font-style: italic;
	    font-weight: 500;
	    color: #8b5e3c;
	    letter-spacing: 1px;
	    margin: 6px 0 12px 0; /* Balanced top and bottom spacing */
	}
	
	.photo {
	    width: 110px;
	    height: 110px;
	    border-radius: 50%;
	    object-fit: cover;
	    margin: 12px auto;
	    display: block;
	    border: 3px solid #3b3029;
	}
	
	.qr {
	    width: 180px;
	    margin: 24px auto 0 auto;
	    display: block;
	    border-radius: 20px;
	    padding: 8px;
	    background: linear-gradient(145deg, #f7f2eb, #fffdf9);
	    box-shadow: 0 4px 12px rgba(0,0,0,0.1), inset 0 0 4px rgba(0,0,0,0.05);
	    position: relative;
	}
	
	.qr::before {
	    content: "";
	    position: absolute;
	    top: -6px;
	    left: -6px;
	    right: -6px;
	    bottom: -6px;
	    border-radius: 24px;
	    background: linear-gradient(135deg, #b89d80, #ede1d0);
	    z-index: -1;
	}
	
	.qr:hover {
	    transform: scale(1.03);
	    transition: transform 0.3s ease;
	}
	
	.location-icon {
	    margin: 14px 0;
	}
	
	.location-icon svg {
	    width: 28px;
	    height: 28px;
	    fill: #b03a2e;
	}
	
	.footer {
	    margin-top: 22px;
	    font-size: 13px;
	    color: #5a4a3f;
	}

</style>
<!--Confetti Animation-->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<canvas id="confetti-canvas" style="position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:0;"></canvas>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const confettiCanvas = document.getElementById('confetti-canvas');
    const myConfetti = confetti.create(confettiCanvas, { resize: true, useWorker: true });

    // Confetti burst every few seconds
    const confettiInterval = setInterval(() => {
        myConfetti({
            particleCount: 50,
            spread: 70,
            origin: { y: 0.6 }
        });
    }, 3000);

    // Optional: Stop confetti after 15 seconds to prevent infinite CPU usage
    setTimeout(() => clearInterval(confettiInterval), 15000);
});
</script>

</head>
<body>
    <div class="card">
	    <img th:if="${photoUrl != null}" th:src="${photoUrl}" alt="Couple Photo" class="photo">
	
	    <p>PLEASE JOIN US FOR THE</p>
	     <h2>WEDDING OF</h2>
	
	    <h1 th:if="${coupleName != null}" th:utext="${coupleName.replace(' & ', '<br>& ')}"></h1>
	
	    <p th:if="${hashtag != null}" class="hashtag" th:text="${hashtag}"></p>
	
	   
	
	    <p th:if="${date != null}" th:text="${date}"></p>
	    <p th:if="${time != null}" th:text="${time}"></p>
	    <p th:if="${venue != null}" th:text="${venue}"></p>
	    <p th:if="${address != null}" th:text="${address}"></p>
	
	    <div class="location-icon" th:if="${mapUrl != null}">
	        <a th:href="${mapUrl}" target="_blank">
	            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
	                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5S13.38 11.5 12 11.5z"/>
	            </svg>
	        </a>
	    </div>
	
	    <p th:if="${email != null}">Email: <span th:text="${email}"></span></p>
	    <p th:if="${phone != null}">Phone: <span th:text="${phone}"></span></p>
	
	    <div class="footer" th:if="${footerText != null}" th:text="${footerText}"></div>
	
	    <img th:if="${qrData != null}" th:src="@{/generate-qr(data=${qrData}, size=${qrSize},color=${qrColor})}" alt="QR Code" class="qr">
	</div>

</body>
</html>
